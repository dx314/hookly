import{a as s,f as i,c as P,s as c}from"../chunks/DwoeUTs1.js";import{p as T,o as U,a as X,s as H,b as t,c as e,g as a,n as p,r as o,d as L,f as V,t as W}from"../chunks/Dye_Vu_V.js";import{i as D}from"../chunks/B4UtDhsa.js";import{e as Y,i as Z}from"../chunks/oAOXQWqr.js";import{s as $}from"../chunks/B-io2W3s.js";import{e as rr}from"../chunks/i_25vcIR.js";var or=i('<div class="rounded-lg border border-[var(--color-border)] bg-[var(--color-background)] p-6 animate-pulse"><div class="h-4 w-20 bg-[var(--color-muted)] rounded mb-2"></div> <div class="h-8 w-12 bg-[var(--color-muted)] rounded"></div></div>'),er=i('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"></div>'),tr=i('<div class="rounded-lg border border-[var(--color-destructive)] bg-[var(--color-destructive)]/10 p-4"><p class="text-[var(--color-destructive)]"> </p></div>'),ar=i('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"><div class="rounded-lg border border-[var(--color-border)] bg-[var(--color-background)] p-6"><div class="flex items-center justify-between"><p class="text-sm font-medium text-[var(--color-muted-foreground)]">Home Hub</p> <span></span></div> <p class="text-2xl font-bold text-[var(--color-foreground)] mt-2"> </p></div> <div class="rounded-lg border border-[var(--color-border)] bg-[var(--color-background)] p-6"><p class="text-sm font-medium text-[var(--color-muted-foreground)]">Pending</p> <p class="text-2xl font-bold text-[var(--color-status-pending)] mt-2"> </p> <p class="text-xs text-[var(--color-muted-foreground)] mt-1">webhooks awaiting delivery</p></div> <div class="rounded-lg border border-[var(--color-border)] bg-[var(--color-background)] p-6"><p class="text-sm font-medium text-[var(--color-muted-foreground)]">Failed</p> <p class="text-2xl font-bold text-[var(--color-status-failed)] mt-2"> </p> <p class="text-xs text-[var(--color-muted-foreground)] mt-1">permanent failures</p></div> <div class="rounded-lg border border-[var(--color-border)] bg-[var(--color-background)] p-6"><p class="text-sm font-medium text-[var(--color-muted-foreground)]">Dead Letter</p> <p class="text-2xl font-bold text-[var(--color-status-dead-letter)] mt-2"> </p> <p class="text-xs text-[var(--color-muted-foreground)] mt-1">exceeded retry window</p></div></div>'),dr=i('<div class="space-y-6"><div><h1 class="text-2xl font-bold text-[var(--color-foreground)]">Dashboard</h1> <p class="text-[var(--color-muted-foreground)]">Monitor your webhook relay system</p></div> <!> <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-8"><a href="/endpoints/new" class="rounded-lg border border-[var(--color-border)] bg-[var(--color-background)] p-6 hover:border-[var(--color-foreground)] transition-colors"><h3 class="text-lg font-semibold text-[var(--color-foreground)]">Create Endpoint</h3> <p class="text-sm text-[var(--color-muted-foreground)] mt-1">Set up a new webhook endpoint for Stripe, GitHub, or other providers</p></a> <a href="/webhooks" class="rounded-lg border border-[var(--color-border)] bg-[var(--color-background)] p-6 hover:border-[var(--color-foreground)] transition-colors"><h3 class="text-lg font-semibold text-[var(--color-foreground)]">View Webhooks</h3> <p class="text-sm text-[var(--color-muted-foreground)] mt-1">Browse and manage received webhooks, replay failed deliveries</p></a></div></div>');function ur(q,z){T(z,!0);let d=L(null),S=L(!0),g=L(null);U(async()=>{try{const r=await rr.getStatus({});H(d,{pendingCount:r.status?.pendingCount??0,failedCount:r.status?.failedCount??0,deadLetterCount:r.status?.deadLetterCount??0,homeHubConnected:r.status?.homeHubConnected??!1},!0)}catch(r){H(g,r instanceof Error?r.message:"Failed to fetch status",!0)}finally{H(S,!1)}});var m=dr(),A=t(e(m),2);{var I=r=>{var l=er();Y(l,20,()=>[1,2,3,4],Z,(b,E)=>{var f=or();s(b,f)}),o(l),s(r,l)},J=r=>{var l=P(),b=V(l);{var E=n=>{var v=tr(),u=e(v),x=e(u,!0);o(u),o(v),W(()=>c(x,a(g))),s(n,v)},f=n=>{var v=P(),u=V(v);{var x=h=>{var _=ar(),w=e(_),C=e(w),K=t(e(C),2);o(C);var F=t(C,2),N=e(F,!0);o(F),o(w);var k=t(w,2),M=t(e(k),2),O=e(M,!0);o(M),p(2),o(k);var y=t(k,2),j=t(e(y),2),Q=e(j,!0);o(j),p(2),o(y);var B=t(y,2),G=t(e(B),2),R=e(G,!0);o(G),p(2),o(B),o(_),W(()=>{$(K,1,`flex h-3 w-3 rounded-full ${a(d).homeHubConnected?"bg-green-500":"bg-red-500"}`),c(N,a(d).homeHubConnected?"Connected":"Disconnected"),c(O,a(d).pendingCount),c(Q,a(d).failedCount),c(R,a(d).deadLetterCount)}),s(h,_)};D(u,h=>{a(d)&&h(x)},!0)}s(n,v)};D(b,n=>{a(g)?n(E):n(f,!1)},!0)}s(r,l)};D(A,r=>{a(S)?r(I):r(J,!1)})}p(2),o(m),s(q,m),X()}export{ur as component};
